# 死锁

### 3.5.1 资源问题

1. 可重用性资源和消耗性资源

   1. 可重用性资源
      + 每一个可重用性资源的单元只能分配给另一个进程使用,不允许多个进程共享
      + 进程在使用可重用性资源时,必须按照这样的顺序:
        1. 请求资源,如果资源请求失败,请求进程将会被阻塞或循环等待
        2. 使用资源,进程对资源进行操作,
        3. 释放资源:当进程使用玩后自己释放资源
      + 系统中每一类可重用性资源的单元数目是相对固定的,进程在运行期间既不能创建也不能删除它
   2. 可消耗性资源
      + 又称为临界资源,它是进程运行期间,由进程动态创建和消耗的
        1. 每一类可笑还行资源的单元数目在进程运行期间是可以不断变换的,有时它可以有许多,有时可能为0;
        2. 进程运行过程中,可以不断创造可消耗性资源的单元,巴特曼你放入该资源类的单元数目
        3. 进程在运行过程中,可以请求若干个可消耗性资源单元.
      + 最典型的可消耗性资源就是用于进程间通信的消息等

2. 可抢占性资源和不可抢占性资源

   1. 可抢占性资源

      > 某进程获得该资源后,该资源可以再被其他进程或系统抢占

   2. 不可抢占性资源

      > 一旦系统把某资源非陪给该进程后,就不呢个将他强行收回,只能在进程用完后自行释放

### 3.5.3 死锁的定义,必要条件和处理方法

#### 1 死锁的定义

+ 在一组进程发生死锁的情况下,这组死锁进程中的每一个进程,都在等待另一个死锁进程所占有的资源

+ 如果一组进程中的每一个进程都在等待仅有改组进程中其他进程才能引发的事件,那么**该组进程时死锁**的

#### 2.产生死锁的必要条件

> 必须满足以下四个条件,有一个条件不成立,死锁就不会发生

1. 互斥条件
2. 请求和保持条件:进程已经保持了至少一个资源,但又提出新的资源请求,而该资源已被其他进程占有,此时请求进程被阻塞,但对自己以获得的资源保持不放.
3. 不可抢占条件
4. 循环等待条件

#### 处理死锁的方法

+ 预防死锁
+ 避免死锁
+ 检测死锁
+ 解除死锁

避免死锁具体参考银行家算法:

